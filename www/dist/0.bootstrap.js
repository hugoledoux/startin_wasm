(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "../pkg/startin_wasm_hledoux.js":
/*!**************************************!*\
  !*** ../pkg/startin_wasm_hledoux.js ***!
  \**************************************/
/*! exports provided: DT, __wbindgen_throw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DT\", function() { return DT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_throw\", function() { return __wbindgen_throw; });\n/* harmony import */ var _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./startin_wasm_hledoux_bg.wasm */ \"../pkg/startin_wasm_hledoux_bg.wasm\");\n\n\nlet cachegetInt32Memory = null;\nfunction getInt32Memory() {\n    if (cachegetInt32Memory === null || cachegetInt32Memory.buffer !== _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetInt32Memory = new Int32Array(_startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetInt32Memory;\n}\n\nlet cachegetFloat64Memory = null;\nfunction getFloat64Memory() {\n    if (cachegetFloat64Memory === null || cachegetFloat64Memory.buffer !== _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetFloat64Memory = new Float64Array(_startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetFloat64Memory;\n}\n\nfunction getArrayF64FromWasm(ptr, len) {\n    return getFloat64Memory().subarray(ptr / 8, ptr / 8 + len);\n}\n\nlet cachegetUint32Memory = null;\nfunction getUint32Memory() {\n    if (cachegetUint32Memory === null || cachegetUint32Memory.buffer !== _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetUint32Memory = new Uint32Array(_startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetUint32Memory;\n}\n\nfunction getArrayU32FromWasm(ptr, len) {\n    return getUint32Memory().subarray(ptr / 4, ptr / 4 + len);\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8');\n\nlet cachegetUint8Memory = null;\nfunction getUint8Memory() {\n    if (cachegetUint8Memory === null || cachegetUint8Memory.buffer !== _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetUint8Memory = new Uint8Array(_startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetUint8Memory;\n}\n\nfunction getStringFromWasm(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory().subarray(ptr, ptr + len));\n}\n/**\n*/\nclass DT {\n\n    static __wrap(ptr) {\n        const obj = Object.create(DT.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbg_dt_free\"](ptr);\n    }\n    /**\n    * @returns {DT}\n    */\n    static new() {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_new\"]();\n        return DT.__wrap(ret);\n    }\n    /**\n    * @param {number} px\n    * @param {number} py\n    * @param {number} pz\n    * @returns {boolean}\n    */\n    insert_one_pt(px, py, pz) {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_insert_one_pt\"](this.ptr, px, py, pz);\n        return ret !== 0;\n    }\n    /**\n    * @returns {number}\n    */\n    number_of_vertices() {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_number_of_vertices\"](this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    number_of_triangles() {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_number_of_triangles\"](this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {Float64Array}\n    */\n    all_vertices() {\n        const retptr = 8;\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_all_vertices\"](retptr, this.ptr);\n        const memi32 = getInt32Memory();\n        const v0 = getArrayF64FromWasm(memi32[retptr / 4 + 0], memi32[retptr / 4 + 1]).slice();\n        _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](memi32[retptr / 4 + 0], memi32[retptr / 4 + 1] * 8);\n        return v0;\n    }\n    /**\n    * @returns {Uint32Array}\n    */\n    all_edges() {\n        const retptr = 8;\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_all_edges\"](retptr, this.ptr);\n        const memi32 = getInt32Memory();\n        const v0 = getArrayU32FromWasm(memi32[retptr / 4 + 0], memi32[retptr / 4 + 1]).slice();\n        _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](memi32[retptr / 4 + 0], memi32[retptr / 4 + 1] * 4);\n        return v0;\n    }\n    /**\n    * @returns {Uint32Array}\n    */\n    all_triangles() {\n        const retptr = 8;\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_all_triangles\"](retptr, this.ptr);\n        const memi32 = getInt32Memory();\n        const v0 = getArrayU32FromWasm(memi32[retptr / 4 + 0], memi32[retptr / 4 + 1]).slice();\n        _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](memi32[retptr / 4 + 0], memi32[retptr / 4 + 1] * 4);\n        return v0;\n    }\n    /**\n    * @param {number} px\n    * @param {number} py\n    * @returns {number}\n    */\n    closest_point(px, py) {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_closest_point\"](this.ptr, px, py);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} v\n    * @returns {boolean}\n    */\n    remove(v) {\n        const ret = _startin_wasm_hledoux_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"dt_remove\"](this.ptr, v);\n        return ret !== 0;\n    }\n}\n\nconst __wbindgen_throw = function(arg0, arg1) {\n    throw new Error(getStringFromWasm(arg0, arg1));\n};\n\n\n\n//# sourceURL=webpack:///../pkg/startin_wasm_hledoux.js?");

/***/ }),

/***/ "../pkg/startin_wasm_hledoux_bg.wasm":
/*!*******************************************!*\
  !*** ../pkg/startin_wasm_hledoux_bg.wasm ***!
  \*******************************************/
/*! exports provided: memory, __wbg_dt_free, dt_new, dt_insert_one_pt, dt_number_of_vertices, dt_number_of_triangles, dt_all_vertices, dt_all_edges, dt_all_triangles, dt_closest_point, dt_remove, __wbindgen_free */
/***/ (function(module, exports, __webpack_require__) {

eval("\"use strict\";\n// Instantiate WebAssembly module\nvar wasmExports = __webpack_require__.w[module.i];\n__webpack_require__.r(exports);\n// export exports from WebAssembly module\nfor(var name in wasmExports) if(name != \"__webpack_init__\") exports[name] = wasmExports[name];\n// exec imports from WebAssembly module (for esm order)\n/* harmony import */ var m0 = __webpack_require__(/*! ./startin_wasm_hledoux.js */ \"../pkg/startin_wasm_hledoux.js\");\n\n\n// exec wasm module\nwasmExports[\"__webpack_init__\"]()\n\n//# sourceURL=webpack:///../pkg/startin_wasm_hledoux_bg.wasm?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var startin_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! startin-wasm */ \"../pkg/startin_wasm_hledoux.js\");\n\n\nlet canvas = document.getElementById(\"canv\");\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nwindow.addEventListener(\"onresize\", (event) => {\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n});\n\n\nlet ctx = canvas.getContext(\"2d\");\nctx.fillStyle = \"#fff\";\nctx.fillRect(0, 0, canvas.width, canvas.height);\n\nlet mydt = startin_wasm__WEBPACK_IMPORTED_MODULE_0__[\"DT\"].new();\n\ndocument.getElementById(\"nov\").innerHTML = mydt.number_of_vertices();\ndocument.getElementById(\"notr\").innerHTML = mydt.number_of_triangles();\n\n\nconst refreshcanvas = () => {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  \n  const pts = mydt.all_vertices();\n  const edges = mydt.all_edges();\n\n  ctx.strokeStyle = \"#6BCC60\";\n  ctx.lineWidth = 1;\n  for (let i = 0; i < edges.length; i += 2) {\n    let a = edges[i];\n    let b = edges[i + 1];\n\n    ctx.beginPath();\n    ctx.moveTo(pts[2 * a], pts[2 * a + 1]);\n    ctx.lineTo(pts[2 * b], pts[2 * b + 1]);\n    ctx.closePath();\n    ctx.stroke();    \n  }  \n\n  ctx.fillStyle = \"#666\";\n  for (let i = 0; i < pts.length; i += 2) {\n    ctx.beginPath();\n    ctx.arc(pts[i], pts[i + 1], 2, 0, 2 * Math.PI, true);\n    ctx.fill();\n  }\n\n  document.getElementById(\"nov\").innerHTML = mydt.number_of_vertices();\n  document.getElementById(\"notr\").innerHTML = mydt.number_of_triangles();\n\n};\n\nconst leftclick = (event) => {\n  var b = document.getElementById(\"bDelete\");\n  const rect = canvas.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n  if (b.checked == false) {\n    mydt.insert_one_pt(x, y, 0.0);\n  }\n  else {\n    const nv = mydt.closest_point(x, y);\n    if ((nv != 0) && (mydt.number_of_vertices() >= 4)) {\n      // console.log(nv);\n      mydt.remove(nv);\n    } \n  }\n  refreshcanvas();\n};\n\ncanvas.addEventListener('click', leftclick);\n\ndocument.getElementById(\"btnRandom\").addEventListener(\"click\", function(){\n  var num = document.getElementById(\"noRandom\").value;\n  // console.log(num);\n  for (let i = 0; i < num; i++) {\n    let x = Math.random() * canvas.width;\n    let y = Math.random() * canvas.height;\n    mydt.insert_one_pt(x, y, 0.0);\n  }\n  refreshcanvas();\n});\n\ndocument.getElementById(\"btnClear\").addEventListener(\"click\", function(){\n  mydt = startin_wasm__WEBPACK_IMPORTED_MODULE_0__[\"DT\"].new();\n\n  refreshcanvas();\n});\n\n\n//# sourceURL=webpack:///./index.js?");

/***/ })

}]);